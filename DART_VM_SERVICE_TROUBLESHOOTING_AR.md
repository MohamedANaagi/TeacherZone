# ุฏููู ุงุณุชูุดุงู ุฃุฎุทุงุก Dart VM Service

## ุงููุดููุฉ
ุจุนุฏ ูุฌุงุญ ุจูุงุก Xcodeุ Flutter ูุง ูุณุชุทูุน ุงูุชุดุงู Dart VM Service:
```
The Dart VM Service was not discovered after 60 seconds. This is taking much longer than expected...
Installing and launching...
```

## ุงูุฃุณุจุงุจ ุงูุดุงุฆุนุฉ ูุงูุญููู

### 1. **ุชููู ุงูุชุทุจูู ุนูุฏ ุงูุชุดุบูู (ุงูุฃูุซุฑ ุดููุนุงู)**
ูุฏ ูุชููู ุงูุชุทุจูู ุจุตูุช ูุจู ุฃู ูุจุฏุฃ VM Service.

**ุงูุชุญูู:**
- ุงูุธุฑ ุฅูู ุฌูุงุฒู/ุงููุญุงูู - ูู ุงูุชุทุจูู ูุนูู ูุนูุงูุ
- ุชุญูู ูู Xcode console ูุณุฌูุงุช ุงูุฃุฎุทุงุก
- ุชุญูู ูู ุณุฌูุงุช ุงูุฌูุงุฒ: `xcrun simctl spawn booted log stream --predicate 'processImagePath contains "Runner"'`

**ุงูุญู:**
- ุดุบูู ูุน ุชุณุฌูู ููุตู: `flutter run --verbose`
- ุชุญูู ูู ุฃุฎุทุงุก ููุช ุงูุชุดุบูู ูู ุชููุฆุฉ ุงูุชุทุจูู
- ุชุฃูุฏ ูู ุฃู ุชููุฆุฉ Firebase ุชุนูู ุจุดูู ุตุญูุญ

### 2. **ูุดุงูู ุงูุงุชุตุงู ุจุงูุดุจูุฉ**
VM Service ูุญุชุงุฌ ุงุชุตุงู ุดุจูุฉ ุจูู ุฃุฏูุงุช Flutter ูุงูุชุทุจูู.

**ุงูุญููู:**
- ุชุฃูุฏ ุฃู ุฌูุงุฒู/ุงููุญุงูู ู Mac ุนูู ููุณ ุงูุดุจูุฉ
- ุฌุฑูุจ ุชุดุบูู ุนูู iOS Simulator ุจุฏูุงู ูู ุงูุฌูุงุฒ ุงููุนูู
- ุชุญูู ูู ุฅุนุฏุงุฏุงุช ุงูุฌุฏุงุฑ ุงููุงุฑู ุงูุชู ูุฏ ุชููุน ุงูุงุชุตุงูุงุช ุงููุญููุฉ
- ุฌุฑูุจ: `flutter run --host-vmservice-port 0` (ุชุนููู ุงููููุฐ ุชููุงุฆูุงู)

### 3. **ุฃูุงู iOS/ุงูุตูุงุญูุงุช**
ูุฏ ูููุน iOS ุงุชุตุงู ุงูุชุตุญูุญ.

**ุชุญูู ูู Info.plist:**
- ุชุฃูุฏ ุฃู `NSAppTransportSecurity` ูุณูุญ ุจุงูุงุชุตุงูุงุช ุงููุญููุฉ
- ุฅุนุฏุงุฏู ุงูุญุงูู ูุญุชูู ุนูู `NSAllowsArbitraryLoads: true` ููุฐุง ุฌูุฏ

**ุงูุญู:**
- ุฌุฑูุจ ุชุดุบูู ูู ูุถุน Release ุฃููุงู ููุชุญูู ูู ุนูู ุงูุชุทุจูู: `flutter run --release`
- ุฅุฐุง ุนูู Releaseุ ุงููุดููุฉ ุฎุงุตุฉ ุจูุถุน ุงูุชุตุญูุญ

### 4. **ูุดุงูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ููุจูุงุก**
ุงููููุงุช ุงููุคูุชุฉ ุงููุฏููุฉ ูุฏ ุชุณุจุจ ูุดุงูู ุงูุงุชุตุงู.

**ุงูุญููู:**
```bash
# ุชูุธูู ุจูุงุก Flutter
flutter clean

# ุชูุธูู ุจูุงุก iOS
cd ios
rm -rf Pods Podfile.lock
rm -rf ~/Library/Developer/Xcode/DerivedData/*
pod install
cd ..

# ุฅุนุงุฏุฉ ุงูุจูุงุก
flutter pub get
flutter run
```

### 5. **ูุดุงูู ุงูุฌูุงุฒ/ุงููุญุงูู**
ุงูุฃุฌูุฒุฉ ุงููุนููุฉ ุฃุญูุงูุงู ูุฏููุง ูุดุงูู ุงุชุตุงู.

**ุงูุญููู:**
- ุฌุฑูุจ iOS Simulator: `flutter run -d "iPhone 15 Pro"`
- ุงุนุฑุถ ุงูุฃุฌูุฒุฉ ุงููุชุงุญุฉ: `flutter devices`
- ููุฌูุงุฒ ุงููุนููุ ุชุฃูุฏ ูู:
  - ุงูุฌูุงุฒ ุบูุฑ ูููู
  - ุชู ูุจูู "Trust This Computer"
  - ูุถุน ุงููุทูุฑ ููุนูู (iOS 16+)

### 6. **ุฃุฎุทุงุก ุชููุฆุฉ Firebase**
ุฅุฐุง ูุดูุช ุชููุฆุฉ Firebaseุ ูุฏ ูุชููู ุงูุชุทุจูู ุจุตูุช.

**ุงูุชุญูู:**
- ุชุฃูุฏ ุฃู `GoogleService-Info.plist` ููุฌูุฏ ูู `ios/Runner/`
- ุชุญูู ูู Firebase console ูุฃู ุฃุฎุทุงุก
- ุงุจุญุซ ุนู ุฃุฎุทุงุก ุงูุชููุฆุฉ ูู ุงูุณุฌูุงุช ุงูููุตูุฉ

**ุงูุญู:**
- `main.dart` ูุฏูู ูุนุงูุฌุฉ ุฃุฎุทุงุกุ ููู ุชุญูู ูู ุฃู Firebase ูุชููุฃ ูุนูุงู
- ุฌุฑูุจ ุชุนููู ุชููุฆุฉ Firebase ูุคูุชุงู ููุนุฑูุฉ ุฅุฐุง ูุงู ุงูุชุทุจูู ูุนูู

### 7. **ุฅุนุฏุงุฏุงุช ุจูุงุก Xcode**
ุจุนุถ ุฅุนุฏุงุฏุงุช Xcode ูุฏ ุชุชุฏุงุฎู ูุน VM Service.

**ุงูุชุญูู:**
- ุงูุชุญ ุงููุดุฑูุน ูู Xcode: `open ios/Runner.xcworkspace`
- Product > Scheme > Edit Scheme
- ุชุฃูุฏ ุฃู "Debug" ูุญุฏุฏ
- ุชุญูู ูู Build Settings > Swift Compiler - Code Generation > Optimization Level = None [-Onone] ููู Debug

## ุงูุฅุฌุฑุงุกุงุช ุงูููุฑูุฉ ููุชุฌุฑุจุฉ

### ุงูุฎุทูุฉ 1: ุงูุชุดุบูู ูุน ุชุณุฌูู ููุตู
```bash
flutter run --verbose
```
ูุฐุง ุณูุนุฑุถ ุณุฌูุงุช ููุตูุฉ ุนู ูุง ูุญุฏุซ ุฃุซูุงุก ุงูุชุดุบูู.

### ุงูุฎุทูุฉ 2: ุฌุฑูุจ iOS Simulator
```bash
# ุนุฑุถ ุงูุฃุฌูุฒุฉ
flutter devices

# ุชุดุบูู ุนูู ุงููุญุงูู
flutter run -d "iPhone 15 Pro"
```

### ุงูุฎุทูุฉ 3: ุชุญูู ุฅุฐุง ูุงู ุงูุชุทุจูู ูุนูู ูุนูุงู
- ุงูุธุฑ ุฅูู ุดุงุดุฉ ุฌูุงุฒู/ุงููุญุงูู
- ูู ูุธูุฑ ุงูุชุทุจููุ ูู ุชุธูุฑ ุดุงุดุฉ ุจูุถุงุกุ ูู ูุชููู ููุฑุงูุ
- ุชุญูู ูู Xcode console (Window > Devices and Simulators > Select device > View Device Logs)

### ุงูุฎุทูุฉ 4: ุงุฎุชุจุฑ ุจูุงุก Release
```bash
flutter run --release
```
ุฅุฐุง ุนูู Releaseุ ุงููุดููุฉ ุฎุงุตุฉ ุจูุถุน ุงูุชุตุญูุญ.

### ุงูุฎุทูุฉ 5: ุชุญูู ูู ุณุฌูุงุช ุงูุฌูุงุฒ
```bash
# ูููุญุงูู
xcrun simctl spawn booted log stream --predicate 'processImagePath contains "Runner"'

# ููุฌูุงุฒ ุงููุนูู (ูู terminal ุขุฎุฑ ุฃุซูุงุก ุชุดุบูู flutter run)
```

### ุงูุฎุทูุฉ 6: ุชูุธูู ูุฅุนุงุฏุฉ ุจูุงุก
```bash
flutter clean
cd ios
rm -rf Pods Podfile.lock
pod install
cd ..
flutter pub get
flutter run
```

## ูุตุงุฆุญ ุงูุชุตุญูุญ

1. **ุฅุถุงูุฉ Debug Prints**
   ุฃุถู ูุฐุง ุฅูู `main.dart` ุจุนุฏ `runApp`:
   ```dart
   void main() async {
     WidgetsFlutterBinding.ensureInitialized();
     
     try {
       await Firebase.initializeApp(
         options: DefaultFirebaseOptions.currentPlatform,
       );
       debugPrint('โ ุชู ุชููุฆุฉ Firebase ุจูุฌุงุญ');
     } catch (e, stackTrace) {
       debugPrint('โ ุฎุทุฃ ูู ุชููุฆุฉ Firebase: $e');
       debugPrint('Stack trace: $stackTrace');
     }
     
     debugPrint('๐ ุจุฏุก ุงูุชุทุจูู...');
     runApp(const MyApp());
     debugPrint('โ ุชู ุชุดุบูู ุงูุชุทุจูู');
   }
   ```

2. **ุชุญูู ูู Xcode Console**
   - ุงูุชุญ Xcode
   - Window > Devices and Simulators
   - ุงุฎุชุฑ ุฌูุงุฒู
   - ุงุถุบุท "Open Console"
   - ุงุจุญุซ ุนู "Runner" ุฃู "Flutter"

3. **ุชุญูู ูู ูููุฐ VM Service**
   VM Service ุนุงุฏุฉ ูุนูู ุนูู ุงููููุฐ 0 (ูุนููู ุชููุงุฆูุงู). ุชุญูู ุฅุฐุง ูุงู ูุญุธูุฑุงู.

## ุฅุฐุง ูู ูุนูู ุดูุก

1. **ุฌุฑูุจ ุงุฎุชุจุงุฑ ุจุณูุท:**
   - ุฃูุดุฆ ูุดุฑูุน Flutter ุฌุฏูุฏ: `flutter create test_app`
   - ุดุบููู: `cd test_app && flutter run`
   - ุฅุฐุง ุนูู ูุฐุงุ ุงููุดููุฉ ุฎุงุตุฉ ุจูุดุฑูุนู

2. **ุชุญูู ูู ุฅุตุฏุงุฑ Flutter:**
   ```bash
   flutter doctor -v
   ```

3. **ุญุฏูุซ Flutter:**
   ```bash
   flutter upgrade
   ```

4. **ุชุญูู ูู ุงููุดุงูู ุงููุนุฑููุฉ:**
   - ุงุจุญุซ ูู Flutter GitHub issues ุนู "Dart VM Service not discovered iOS"
   - ุชุญูู ูู ููุงุญุธุงุช ุฅุตุฏุงุฑ Flutter ูุฅุตุฏุงุฑู

## ุฃูุงูุฑ ุงูุงุฎุชุจุงุฑ ุงูุณุฑูุน

```bash
# 1. ุชุญูู ูู ุฅุนุฏุงุฏ Flutter
flutter doctor -v

# 2. ุนุฑุถ ุงูุฃุฌูุฒุฉ
flutter devices

# 3. ุชุดุบูู ูุน ุชูุงุตูู (ุงูุฃูู)
flutter run --verbose

# 4. ุชุดุบูู ุนูู ุฌูุงุฒ ูุญุฏุฏ
flutter run -d <device-id>

# 5. ุชุดุบูู ูู ูุถุน release
flutter run --release
```

## ุงูุณููู ุงููุชููุน

ุนูุฏ ุงูุนูู ุจุดูู ุตุญูุญุ ูุฌุจ ุฃู ุชุฑู:
```
โ Built build/ios/iphoneos/Runner.app
Connecting to Dart VM Service...
โ Connected to Dart VM Service
```

ุฅุฐุง ุฑุฃูุช "The Dart VM Service was not discovered"ุ ุงูุชุทุจูู ุนูู ุงูุฃุฑุฌุญ:
- ุชููู ูุจู ุฃู ูุจุฏุฃ VM Service
- ูุง ูุณุชุทูุน ุฅูุดุงุก ุงุชุตุงู ุดุจูุฉ
- ูุฏูู ูุดููุฉ ุฅุนุฏุงุฏ ุชููุน ูุถุน ุงูุชุตุญูุญ

## ุงูุญููู ุงูุณุฑูุนุฉ ุงูููุตู ุจูุง

### 1. ุฃููุงู: ุชุญูู ูู ุฃู ุงูุชุทุจูู ูุนูู
- ุงูุธุฑ ุฅูู ุดุงุดุฉ ุงูุฌูุงุฒ/ุงููุญุงูู
- ุฅุฐุง ูุงู ุงูุชุทุจูู ูุนูู ููู Flutter ูุง ูุชุตูุ ุงููุดููุฉ ูู ุงูุงุชุตุงู
- ุฅุฐุง ูุงู ุงูุชุทุจูู ูุง ูุธูุฑ ุฃู ูุชูููุ ุงููุดููุฉ ูู ุงูุชุทุจูู ููุณู

### 2. ุฌุฑูุจ ุงููุญุงูู ุฃููุงู
ุงููุญุงูู ุนุงุฏุฉ ุฃุณูู ูู ุงูุชุตุญูุญ:
```bash
flutter devices
flutter run -d "iPhone 15 Pro"  # ุฃู ุฃู ูุญุงูู ูุชุงุญ
```

### 3. ุงุณุชุฎุฏู --verbose
```bash
flutter run --verbose
```
ูุฐุง ุณูุนุทูู ูุนูููุงุช ุฃูุซุฑ ุนู ูุง ูุญุฏุซ.

### 4. ุชุญูู ูู ุณุฌูุงุช Xcode
- ุงูุชุญ Xcode
- Window > Devices and Simulators
- ุงุฎุชุฑ ุฌูุงุฒู
- ุงุถุบุท "Open Console"
- ุงุจุญุซ ุนู ุฑุณุงุฆู ุงูุฎุทุฃ ุฃู ุฑุณุงุฆู debugPrint ุงูุชู ุฃุถููุงูุง

