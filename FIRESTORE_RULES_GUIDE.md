# Ø¯Ù„ÙŠÙ„ Firestore Security Rules

## Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø­Ø§Ù„ÙŠØ©

ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù `firestore.rules` ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ù‚ÙˆØ§Ø¹Ø¯ Ø£Ù…Ø§Ù† Ù„Ù€ Firestore.

## Ù…Ø§ ØªÙØ¹Ù„Ù‡ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯:

### 1. **Codes Collection**

- âœ… **Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©**: Ù…ØªØ§Ø­Ø© Ù„Ù„Ø¬Ù…ÙŠØ¹ (Ù„Ø£Ù† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙŠØ­ØªØ§Ø¬ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø£ÙƒÙˆØ§Ø¯)
- âœ… **Ø§Ù„ÙƒØªØ§Ø¨Ø©**: Ù…Ø³Ù…ÙˆØ­Ø© ÙÙ‚Ø· Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØµØ­ÙŠØ­Ø© (validation)

### 2. **Courses Collection**

- âœ… **Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©**: Ù…ØªØ§Ø­Ø© Ù„Ù„Ø¬Ù…ÙŠØ¹ (Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ† ÙŠØ­ØªØ§Ø¬ÙˆÙ† Ø±Ø¤ÙŠØ© Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª)
- âœ… **Ø§Ù„ÙƒØªØ§Ø¨Ø©**: Ù…Ø³Ù…ÙˆØ­Ø© ÙÙ‚Ø· Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØµØ­ÙŠØ­Ø©
- âœ… **Ø§Ù„ØªØ­Ø¯ÙŠØ«**: ÙŠÙ…Ù†Ø¹ ØªØºÙŠÙŠØ± `createdAt`

### 3. **Videos Collection**

- âœ… **Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©**: Ù…ØªØ§Ø­Ø© Ù„Ù„Ø¬Ù…ÙŠØ¹ (Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ† ÙŠØ­ØªØ§Ø¬ÙˆÙ† Ø±Ø¤ÙŠØ© Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª)
- âœ… **Ø§Ù„ÙƒØªØ§Ø¨Ø©**: Ù…Ø³Ù…ÙˆØ­Ø© ÙÙ‚Ø· Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØµØ­ÙŠØ­Ø©
- âœ… **Ø§Ù„ØªØ£ÙƒØ¯**: ÙŠØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„ÙƒÙˆØ±Ø³ Ù‚Ø¨Ù„ Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
- âœ… **Ø§Ù„ØªØ­Ø¯ÙŠØ«**: ÙŠÙ…Ù†Ø¹ ØªØºÙŠÙŠØ± `createdAt` Ùˆ `courseId`

## ÙƒÙŠÙÙŠØ© ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯:

### Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© 1: Ù…Ù† Firebase Console (Ø§Ù„Ø£Ø³Ù‡Ù„)

1. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ [Firebase Console](https://console.firebase.google.com/)
2. Ø§Ø®ØªØ± Ù…Ø´Ø±ÙˆØ¹Ùƒ `teacherzone-eb4fb`
3. Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©ØŒ Ø§Ø®ØªØ± **Firestore Database**
4. Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ ØªØ¨ÙˆÙŠØ¨ **Rules**
5. Ø§Ù†Ø³Ø® Ù…Ø­ØªÙˆÙ‰ Ù…Ù„Ù `firestore.rules`
6. Ø§Ù„ØµÙ‚ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ ÙÙŠ Ø§Ù„Ù…ÙƒØ§Ù† Ø§Ù„Ù…Ø®ØµØµ
7. Ø§Ù†Ù‚Ø± **Publish** Ù„Ø­ÙØ¸ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯

### Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© 2: Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Firebase CLI

```bash
# ØªØ«Ø¨ÙŠØª Firebase CLI (Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…Ø«Ø¨ØªØ§Ù‹)
npm install -g firebase-tools

# ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
firebase login

# ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ (Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…Ù‡ÙŠØ£)
firebase init firestore

# Ù†Ø´Ø± Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯
firebase deploy --only firestore:rules
```

## ØªØ­Ø³ÙŠÙ†Ø§Øª Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠØ©):

### Ø¥Ø¶Ø§ÙØ© Authentication Ù„Ù„Ø£Ø¯Ù…Ù†:

```javascript
// Ù…Ø«Ø§Ù„: ØªÙ‚ÙŠÙŠØ¯ Ø§Ù„ÙƒØªØ§Ø¨Ø© Ù„Ù„Ø£Ø¯Ù…Ù† ÙÙ‚Ø·
match /codes/{codeId} {
  allow read: if true;
  allow write: if request.auth != null &&
                  request.auth.token.admin == true;
}
```

### Ø¥Ø¶Ø§ÙØ© Rate Limiting:

```javascript
// Ù…Ø«Ø§Ù„: Ù…Ù†Ø¹ Ø£ÙƒØ«Ø± Ù…Ù† 10 Ø¥Ø¶Ø§ÙØ§Øª ÙÙŠ Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø©
match /codes/{codeId} {
  allow create: if request.time > resource.data.lastWrite + duration.value(60, 's') &&
                   request.resource.data.writeCount < 10;
}
```

## Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø©:

1. âš ï¸ **Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø­Ø§Ù„ÙŠØ© ØªØ³Ù…Ø­ Ø¨Ø§Ù„ÙƒØªØ§Ø¨Ø© Ù„Ù„Ø¬Ù…ÙŠØ¹** - Ù‡Ø°Ø§ Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„ØªØ·ÙˆÙŠØ± ÙˆØ§Ù„Ø§Ø®ØªØ¨Ø§Ø±
2. ðŸ”’ **Ù„Ù„Ù…Ù†ØªØ¬**: ÙŠØ¬Ø¨ Ø¥Ø¶Ø§ÙØ© Authentication ÙˆØªÙ‚ÙŠÙŠØ¯ Ø§Ù„ÙƒØªØ§Ø¨Ø© Ù„Ù„Ø£Ø¯Ù…Ù† ÙÙ‚Ø·
3. âœ… **Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø¢Ù…Ù†Ø©**: Ù…ØªØ§Ø­Ø© Ù„Ù„Ø¬Ù…ÙŠØ¹ Ù„Ø£Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙŠØ­ØªØ§Ø¬ÙˆÙ† Ø±Ø¤ÙŠØ© Ø§Ù„Ù…Ø­ØªÙˆÙ‰
4. ðŸ“ **Validation**: Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ ØªØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‚Ø¨Ù„ Ø§Ù„Ø­ÙØ¸

## Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯:

ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ Ù…Ù† Firebase Console:

1. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ **Firestore Database > Rules**
2. Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ **Rules Playground**
3. Ø§Ø®ØªØ± Collection Ùˆ Operation
4. Ø§Ø®ØªØ¨Ø± Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ Ù‚Ø¨Ù„ Ø§Ù„Ù†Ø´Ø±
